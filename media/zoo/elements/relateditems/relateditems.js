/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

function selectRelateditem(e,t,i){jQuery("#"+i).ElementRelatedItems("addItem",e,t),jModalClose()}!function(n){function a(){}n.extend(a.prototype,{name:"ElementRelatedItems",options:{variable:null,msgDeleteItem:"Delete Item",msgSortItem:"Sort Item"},initialize:function(e,t){this.options=n.extend({},this.options,t),this.list=e.find("ul").delegate("div.item-delete","click",function(){n(this).closest("li").fadeOut(200,function(){n(this).remove()})}).sortable({handle:"div.item-sort",placeholder:"dragging",axis:"y",opacity:1,delay:100,tolerance:"pointer",containment:"parent",forcePlaceholderSize:!0,scroll:!1,start:function(e,t){t.helper.addClass("ghost")},stop:function(e,t){t.item.removeClass("ghost")}})},addItem:function(e,t){var i=!1;this.list.find("li input").each(function(){n(this).val()==e&&(i=!0)}),i||n('<li><div><div class="item-name">'+t+'</div><div class="item-sort" title="'+this.options.msgSortItem+'"></div><div class="item-delete" title="'+this.options.msgDeleteItem+'"></div><input type="hidden" name="'+this.options.variable+'" value="'+e+'"/></div></li>').appendTo(this.list)}}),n.fn[a.prototype.name]=function(){var i=arguments,o=i[0]?i[0]:null;return this.each(function(){var e=n(this);if(a.prototype[o]&&e.data(a.prototype.name)&&"initialize"!=o)e.data(a.prototype.name)[o].apply(e.data(a.prototype.name),Array.prototype.slice.call(i,1));else if(!o||n.isPlainObject(o)){var t=new a;a.prototype.initialize&&t.initialize.apply(t,n.merge([e],i)),e.data(a.prototype.name,t)}else n.error("Method "+o+" does not exist on jQuery."+a.name)})}}(jQuery);